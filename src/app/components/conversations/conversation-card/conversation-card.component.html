<div (click)="onConversationSelect()" class="conversation-card container " fxFlex fxLayout="row">
  <div fxFlex fxLayoutAlign="start center">
    <img [src]="getPicture()?.link | imageUrl"
         alt=""
         class="rounded-circle mx-2" height="50" style="object-fit: cover" width="50">
    <div class="w-100" fxFlex fxLayout="row">
      <div fxFlex fxFlexFill fxLayout="column" fxLayoutAlign="start start">
        <p class="m-0 fw-bold username">{{getName() || "username"}}</p>
        <p *ngIf="conversation.messages?.length > 0" class="m-0">{{conversation.messages[0]?.text}}</p>
        <p *ngIf="conversation.messages?.length === 0" class="m-0">Commencer la conversation</p>
      </div>
      <div fxFlex fxLayout="column" fxLayoutAlign="end end">
        <div fxFlex *ngIf="conversation.group" (click)="$event.stopPropagation()" fxLayoutAlign="end center">
          <div class="dropdown" dropdown fxLayout="end end">
            <button aria-expanded="false" aria-haspopup="true" class="btn btn-link"
                    data-toggle="dropdown"
                    dropdownToggle type="button">
              <fa-icon [icon]="faEllipsisH"></fa-icon>
            </button>
            <div *dropdownMenu class="dropdown-menu-right dropdown-menu">
              <button (click)="leave()" class="text-danger" mat-menu-item>Quitter</button>
            </div>
          </div>
        </div>
        <p *ngIf="conversation.messages?.length > 0" class="m-0">{{conversation.messages[0]?.createdAt | timeago}}</p>
      </div>
    </div>
  </div>
</div>
